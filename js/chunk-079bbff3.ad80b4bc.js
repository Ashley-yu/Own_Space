(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-079bbff3"],{ae61:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container-fluid headerPic"},[t._t("default")],2)},r=[],i={name:"HeaderPic"},c=i,d=a("2877"),l=Object(d["a"])(c,e,r,!1,null,null,null);s["a"]=l.exports},b5f4:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"orderInfo"},[a("HeaderPic",[a("OrderProgress",{attrs:{currentStep:t.step}})],1),a("div",{staticClass:"container"},[a("div",{staticClass:"listContent"},[a("h3",[t._v("訂單資訊")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("ul",{staticClass:"order"},[a("p",{staticClass:"purchaseDate"},[t._v("訂購日期 - "+t._s(t._f("date")(t.order.create_at)))]),t._l(t.order.products,(function(s){return a("li",{key:s.id,staticClass:"orderList"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 p-0"},[a("div",{staticClass:"productName",on:{click:function(a){return t.$router.push("/product_detail/"+s.product.id)}}},[t._v(t._s(s.product.title))])]),a("div",{staticClass:"col-2 p-0"},[a("div",{staticClass:"productQty"},[t._v("x "+t._s(s.qty))])]),a("div",{staticClass:"col-4 p-0"},[a("div",{staticClass:"productTotal"},[t._v("NT "+t._s(t._f("currency")(s.final_total/s.qty)))])])])])})),a("li",{staticClass:"orderList productSummary"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-8 summary"},[t._v("總計")]),a("div",{staticClass:"col-4 summary"},[t._v("NT "+t._s(t._f("currency")(t.order.total)))])])])],2)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"infoArea"},[a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("td",{staticClass:"title"},[t._v("姓名")]),a("td",{staticClass:"text"},[t._v(t._s(t.order.user.name))])]),a("tr",[a("td",{staticClass:"title"},[t._v("電話")]),a("td",{staticClass:"text"},[t._v(t._s(t.order.user.tel))])]),a("tr",[a("td",{staticClass:"title"},[t._v("Email")]),a("td",{staticClass:"text"},[t._v(t._s(t.order.user.email))])]),a("tr",[a("td",{staticClass:"title"},[t._v("地址")]),a("td",{staticClass:"text"},[t._v(t._s(t.order.user.address))])])]),a("tfoot",["CVS"===t.order.user.payment?a("tr",[a("td",{staticClass:"title"},[t._v("超商付款代碼")]),a("td",{staticClass:"text-left payCode"},[t._v("LCB40611000744")])]):t._e(),"ATM"===t.order.user.payment?a("tr",[a("td",{staticClass:"title"},[t._v("ATM匯款帳號")]),a("td",{staticClass:"text-left payCode"},[t._v("(808)9278119118014012")])]):t._e(),a("tr",[a("td",{staticClass:"title"},[t._v("付款狀態")]),t.order.is_paid?a("td",{staticClass:"complete text-left"},[t._v("完成付款")]):a("td",{staticClass:"incomplete text-left"},[t._v("尚未付款")])])])]),a("div",{staticClass:"payment"},[t.order.is_paid?a("button",{staticClass:"btn",on:{click:function(s){return s.preventDefault(),t.$router.push("/product_list")}}},[a("i",{staticClass:"fas fa-store-alt mr-1"}),t._v("回到商店")]):a("button",{staticClass:"btn",on:{click:function(s){return s.preventDefault(),t.payOrder(s)}}},[a("i",{staticClass:"fas fa-wallet mr-1"}),t._v("確認付款")])])])])])])]),t._m(0)],1)},r=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"modal fade p-0",attrs:{id:"completeModal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-sm modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body completeMessage"},[a("h3",[t._v("付款完成")]),a("i",{staticClass:"fas fa-check-circle ckeckIcon"})])])])])}],i=(a("99af"),a("1157")),c=a.n(i),d=a("ae61"),l=a("d10b"),o={name:"OrderInfo",components:{HeaderPic:d["a"],OrderProgress:l["a"]},data:function(){return{orderId:"",order:{user:{}},step:3}},methods:{getOrder:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("ownspace","/order/").concat(t.orderId);t.$http.get(s).then((function(s){s.data.success?t.order=s.data.order:(t.$store.dispatch("alertMessageModules/updateMessage",{message:s.data.message,status:"danger"}),t.$router.push("/product_list"))}))},payOrder:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("ownspace","/pay/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),t.$http.post(s).then((function(s){s.data.success?(t.getOrder(),c()("#completeModal").modal("show")):t.$store.dispatch("alertMessageModules/updateMessage",{message:s.data.message,status:"danger"}),t.$store.dispatch("updateLoading",!1)}))}},created:function(){this.orderId=this.$route.params.order_id,this.getOrder()}},n=o,u=a("2877"),p=Object(u["a"])(n,e,r,!1,null,null,null);s["default"]=p.exports},d10b:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"orderProgress"},[a("div",{staticClass:"row m-0"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"step",class:{current:1===t.currentStep}},[t._v("Step1"),a("p",[t._v("確認購買")])])]),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"step",class:{current:2===t.currentStep}},[t._v("Step2"),a("p",[t._v("填寫資料")])])]),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"step",class:{current:3===t.currentStep}},[t._v("Step3"),a("p",[t._v("完成訂單")])])])])])},r=[],i={name:"OrderProgress",props:["currentStep"]},c=i,d=a("2877"),l=Object(d["a"])(c,e,r,!1,null,null,null);s["a"]=l.exports}}]);
//# sourceMappingURL=chunk-079bbff3.ad80b4bc.js.map