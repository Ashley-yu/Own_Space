(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02f54897"],{"057f":function(t,e,r){var a=r("fc6a"),s=r("241c").f,i={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return s(t)}catch(e){return n.slice()}};t.exports.f=function(t){return n&&"[object Window]"==i.call(t)?o(t):s(a(t))}},"2d03":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"buyerInfo"},[r("HeaderPic",[r("OrderProgress",{attrs:{currentStep:t.step}})],1),r("div",{staticClass:"container"},[r("div",{staticClass:"listContent"},[r("h3",[t._v("收件資訊")]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-5"},[r("ul",{staticClass:"order"},[t._l(t.cartData.carts,(function(e){return r("li",{key:e.id,staticClass:"orderList"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-2 p-0"},[r("div",{staticClass:"productImg"},[r("img",{attrs:{src:e.product.imageUrl,alt:""}})])]),r("div",{staticClass:"col-4 p-0"},[r("div",{staticClass:"productName",on:{click:function(r){return t.$router.push("/product_detail/"+e.product.id)}}},[t._v(t._s(e.product.title))])]),r("div",{staticClass:"col-2 p-0"},[r("div",{staticClass:"productQty"},[t._v("x "+t._s(e.qty))])]),r("div",{staticClass:"col-4 p-0"},[r("div",{staticClass:"productTotal"},[t._v("NT "+t._s(t._f("currency")(e.final_total/e.qty)))])])])])})),r("li",{staticClass:"orderList productSummary"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-8 col-md-7 summary"},[t._v("總計金額")]),r("div",{staticClass:"col-4 col-md-5 summary"},[t._v("NT "+t._s(t._f("currency")(t.cartData.final_total)))])])])],2)]),r("div",{staticClass:"col-md-7"},[r("form",{staticClass:"infoArea",on:{submit:function(e){return e.preventDefault(),t.createOrder(e)}}},[r("div",{staticClass:"form-row userInfo"},[r("div",{staticClass:"form-group col-sm-6"},[t._m(0),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{id:"userName",type:"text",name:"name",placeholder:"請輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),t.errors.has("name")?r("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("name")))]):t._e()]),r("div",{staticClass:"form-group col-sm-6"},[t._m(1),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required|cellphone",expression:"'required|cellphone'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("tel")},attrs:{id:"userTel",type:"tel",name:"tel",placeholder:"09xxxxxxxx",maxlength:"10"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),t.errors.has("tel")?r("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("tel")))]):t._e()])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-sm-6"},[t._m(2),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{id:"userEmail",type:"email",name:"email",placeholder:"your@email.com"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),t.errors.has("email")?r("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()]),r("div",{staticClass:"form-group col-sm-6"},[r("div",{staticClass:"select-wrapper"},[t._m(3),r("select",{directives:[{name:"model",rawName:"v-model",value:t.form.user.payment,expression:"form.user.payment"}],staticClass:"form-control",attrs:{id:"payment"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form.user,"payment",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"COD"}},[t._v("貨到付款")]),r("option",{attrs:{value:"CVS"}},[t._v("超商付款")]),r("option",{attrs:{value:"ATM"}},[t._v("ATM付款")])])])])]),r("div",{staticClass:"form-group"},[t._m(4),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{id:"userAddress",type:"text",name:"address",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),t.errors.has("address")?r("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("address")))]):t._e()]),r("div",{staticClass:"form-group mb-5"},[r("label",{attrs:{for:"message"}},[t._v("備註")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.user.message,expression:"form.user.message"}],staticClass:"form-control",attrs:{id:"message",name:"message",cols:"10",rows:"3",placeholder:"歡迎留下想對我們說的話"},domProps:{value:t.form.user.message},on:{input:function(e){e.target.composing||t.$set(t.form.user,"message",e.target.value)}}})]),r("div",{staticClass:"btnArea d-flex justify-content-between"},[r("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.goBack(e)}}},[r("i",{staticClass:"fas fa-angle-double-left mr-1"}),t._v("上一步")]),t._m(5)])])])]),"CVS"===t.form.user.payment?r("div",{staticClass:"row"},[t._m(6)]):t._e(),"ATM"===t.form.user.payment?r("div",{staticClass:"row"},[t._m(7)]):t._e()])]),t._m(8)],1)},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{attrs:{for:"userName"}},[t._v("收件人姓名"),r("span",{staticClass:"marker"},[t._v("*")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{attrs:{for:"usertel"}},[t._v("收件人手機"),r("span",{staticClass:"marker"},[t._v("*")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{attrs:{for:"userEmail"}},[t._v("收件人Email"),r("span",{staticClass:"marker"},[t._v("*")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{attrs:{for:"payment"}},[t._v("付款方式"),r("span",{staticClass:"marker"},[t._v("*")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{attrs:{for:"userAddress"}},[t._v("收件人地址"),r("span",{staticClass:"marker"},[t._v("*")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("下一步"),r("i",{staticClass:"fas fa-angle-double-right ml-1"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-sm-12"},[r("div",{staticClass:"notice"},[r("div",{staticClass:"backText"},[t._v("PAYMENT")]),r("h5",[r("i",{staticClass:"fas fa-exclamation-circle mr-3"}),t._v("超商付款")]),r("ul",[r("li",[t._v("可至7-11，全家，萊爾富，ok便利商店進行列印單據並且繳款。")]),r("li",[t._v("在完成訂單的頁面，會顯示您此筆交易專屬的超商代碼，請記下這組代碼至鄰近的超商利用服務機器列印帳單進行繳費。")]),r("li",[t._v("繳費期限為訂單成立時間起24小時內須完成交易，若逾期超商代碼將失效，並自動取消訂單。")])])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-sm-12"},[r("div",{staticClass:"notice"},[r("div",{staticClass:"backText"},[t._v("PAYMENT")]),r("h5",[r("i",{staticClass:"fas fa-exclamation-circle mr-3"}),t._v("注意事項")]),r("ul",[r("li",[t._v("包含實體ATM轉帳，或是網路ATM線上轉帳。")]),r("li",[t._v("在完成訂單的頁面，會顯示您此筆交易專屬的虛擬帳號，請記下這組帳號至鄰近的ATM或網路ATM進行轉帳。")]),r("li",[t._v("繳費期限為訂單成立時間起24小時內須完成交易，若逾期虛擬帳號將失效，並自動取消訂單。")])])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal fade p-0",attrs:{id:"leaveBuyerModal",tabindex:"-1",role:"dialog","aria-hidden":"true","data-backdrop":"static"}},[r("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[r("div",{staticClass:"modal-content border-0"},[r("div",{staticClass:"modal-body"},[r("p",[t._v("尚未完成訂購流程，請確認是否離開此頁?")])]),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn cancel",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),r("button",{staticClass:"btn confirm",attrs:{type:"button","data-dismiss":"modal"}},[t._v("確定")])])])])])}],i=(r("a4d3"),r("99af"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),n=r("2f62"),o=r("1157"),c=r.n(o),l=r("ae61"),u=r("d10b");function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var m={name:"BuyerInfo",components:{HeaderPic:l["a"],OrderProgress:u["a"]},data:function(){return{form:{user:{name:"",email:"",tel:"",address:"",payment:"COD"},message:""},step:2,isNext:!1}},methods:f({},Object(n["b"])("cartModules",["getCartData"]),{createOrder:function(){var t=this,e=this,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("ownspace","/order"),a=e.form;e.isNext=!0,e.$store.dispatch("updateLoading",!0),e.$validator.validate().then((function(s){s?e.$http.post(r,{data:a}).then((function(r){r.data.success?(localStorage.removeItem("cart"),t.$store.commit("cartModules/CART"),t.$store.dispatch("cartModules/getCartInfo"),e.$router.push("/order_info/".concat(r.data.orderId))):(e.$store.dispatch("alertMessageModules/updateMessage",{message:r.data.message,status:"danger"}),e.$router.push("/check_order")),e.$store.dispatch("updateLoading",!1)})):(e.$store.dispatch("alertMessageModules/updateMessage",{message:"請確認資料是否填寫完整",status:"danger"}),e.$store.dispatch("updateLoading",!1))}))},goBack:function(){this.isNext=!0,this.$router.go(-1)},cancelCart:function(){this.$store.dispatch("cartModules/getCartData"),this.$store.dispatch("cartModules/cancelCart")}}),created:function(){this.$store.dispatch("cartModules/getCartData")},computed:f({},Object(n["c"])("cartModules",["cartData","isConfirm"])),beforeRouteLeave:function(t,e,r){var a=this;a.isNext?r():(c()("#leaveBuyerModal").modal("show"),c()(".confirm").on("click",(function(){a.cancelCart(),r()})),c()(".cancel").on("click",(function(){r(!1)})))}},v=m,p=r("2877"),b=Object(p["a"])(v,a,s,!1,null,null,null);e["default"]=b.exports},"746f":function(t,e,r){var a=r("428f"),s=r("5135"),i=r("e538"),n=r("9bf2").f;t.exports=function(t){var e=a.Symbol||(a.Symbol={});s(e,t)||n(e,t,{value:i.f(t)})}},a4d3:function(t,e,r){"use strict";var a=r("23e7"),s=r("da84"),i=r("d066"),n=r("c430"),o=r("83ab"),c=r("4930"),l=r("fdbf"),u=r("d039"),d=r("5135"),f=r("e8b5"),m=r("861d"),v=r("825a"),p=r("7b0b"),b=r("fc6a"),g=r("c04e"),h=r("5c6c"),_=r("7c73"),C=r("df75"),y=r("241c"),w=r("057f"),O=r("7418"),x=r("06cf"),P=r("9bf2"),$=r("d1e7"),j=r("9112"),S=r("6eeb"),N=r("5692"),k=r("f772"),M=r("d012"),E=r("90e3"),T=r("b622"),D=r("e538"),A=r("746f"),q=r("d44e"),I=r("69f3"),L=r("b727").forEach,B=k("hidden"),J="Symbol",H="prototype",F=T("toPrimitive"),Q=I.set,R=I.getterFor(J),V=Object[H],Y=s.Symbol,U=i("JSON","stringify"),W=x.f,z=P.f,G=w.f,K=$.f,X=N("symbols"),Z=N("op-symbols"),tt=N("string-to-symbol-registry"),et=N("symbol-to-string-registry"),rt=N("wks"),at=s.QObject,st=!at||!at[H]||!at[H].findChild,it=o&&u((function(){return 7!=_(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(t,e,r){var a=W(V,e);a&&delete V[e],z(t,e,r),a&&t!==V&&z(V,e,a)}:z,nt=function(t,e){var r=X[t]=_(Y[H]);return Q(r,{type:J,tag:t,description:e}),o||(r.description=e),r},ot=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Y},ct=function(t,e,r){t===V&&ct(Z,e,r),v(t);var a=g(e,!0);return v(r),d(X,a)?(r.enumerable?(d(t,B)&&t[B][a]&&(t[B][a]=!1),r=_(r,{enumerable:h(0,!1)})):(d(t,B)||z(t,B,h(1,{})),t[B][a]=!0),it(t,a,r)):z(t,a,r)},lt=function(t,e){v(t);var r=b(e),a=C(r).concat(vt(r));return L(a,(function(e){o&&!dt.call(r,e)||ct(t,e,r[e])})),t},ut=function(t,e){return void 0===e?_(t):lt(_(t),e)},dt=function(t){var e=g(t,!0),r=K.call(this,e);return!(this===V&&d(X,e)&&!d(Z,e))&&(!(r||!d(this,e)||!d(X,e)||d(this,B)&&this[B][e])||r)},ft=function(t,e){var r=b(t),a=g(e,!0);if(r!==V||!d(X,a)||d(Z,a)){var s=W(r,a);return!s||!d(X,a)||d(r,B)&&r[B][a]||(s.enumerable=!0),s}},mt=function(t){var e=G(b(t)),r=[];return L(e,(function(t){d(X,t)||d(M,t)||r.push(t)})),r},vt=function(t){var e=t===V,r=G(e?Z:b(t)),a=[];return L(r,(function(t){!d(X,t)||e&&!d(V,t)||a.push(X[t])})),a};if(c||(Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=E(t),r=function(t){this===V&&r.call(Z,t),d(this,B)&&d(this[B],e)&&(this[B][e]=!1),it(this,e,h(1,t))};return o&&st&&it(V,e,{configurable:!0,set:r}),nt(e,t)},S(Y[H],"toString",(function(){return R(this).tag})),S(Y,"withoutSetter",(function(t){return nt(E(t),t)})),$.f=dt,P.f=ct,x.f=ft,y.f=w.f=mt,O.f=vt,D.f=function(t){return nt(T(t),t)},o&&(z(Y[H],"description",{configurable:!0,get:function(){return R(this).description}}),n||S(V,"propertyIsEnumerable",dt,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Y}),L(C(rt),(function(t){A(t)})),a({target:J,stat:!0,forced:!c},{for:function(t){var e=String(t);if(d(tt,e))return tt[e];var r=Y(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(d(et,t))return et[t]},useSetter:function(){st=!0},useSimple:function(){st=!1}}),a({target:"Object",stat:!0,forced:!c,sham:!o},{create:ut,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:ft}),a({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:mt,getOwnPropertySymbols:vt}),a({target:"Object",stat:!0,forced:u((function(){O.f(1)}))},{getOwnPropertySymbols:function(t){return O.f(p(t))}}),U){var pt=!c||u((function(){var t=Y();return"[null]"!=U([t])||"{}"!=U({a:t})||"{}"!=U(Object(t))}));a({target:"JSON",stat:!0,forced:pt},{stringify:function(t,e,r){var a,s=[t],i=1;while(arguments.length>i)s.push(arguments[i++]);if(a=e,(m(e)||void 0!==t)&&!ot(t))return f(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!ot(e))return e}),s[1]=e,U.apply(null,s)}})}Y[H][F]||j(Y[H],F,Y[H].valueOf),q(Y,J),M[B]=!0},ade3:function(t,e,r){"use strict";function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return a}))},ae61:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container-fluid headerPic"},[t._t("default")],2)},s=[],i={name:"HeaderPic"},n=i,o=r("2877"),c=Object(o["a"])(n,a,s,!1,null,null,null);e["a"]=c.exports},b64b:function(t,e,r){var a=r("23e7"),s=r("7b0b"),i=r("df75"),n=r("d039"),o=n((function(){i(1)}));a({target:"Object",stat:!0,forced:o},{keys:function(t){return i(s(t))}})},d10b:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"orderProgress"},[r("div",{staticClass:"row m-0"},[r("div",{staticClass:"col-sm-4"},[r("div",{staticClass:"step",class:{current:1===t.currentStep}},[t._v("Step1"),r("p",[t._v("確認購買")])])]),r("div",{staticClass:"col-sm-4"},[r("div",{staticClass:"step",class:{current:2===t.currentStep}},[t._v("Step2"),r("p",[t._v("填寫資料")])])]),r("div",{staticClass:"col-sm-4"},[r("div",{staticClass:"step",class:{current:3===t.currentStep}},[t._v("Step3"),r("p",[t._v("完成訂單")])])])])])},s=[],i={name:"OrderProgress",props:["currentStep"]},n=i,o=r("2877"),c=Object(o["a"])(n,a,s,!1,null,null,null);e["a"]=c.exports},dbb4:function(t,e,r){var a=r("23e7"),s=r("83ab"),i=r("56ef"),n=r("fc6a"),o=r("06cf"),c=r("8418");a({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){var e,r,a=n(t),s=o.f,l=i(a),u={},d=0;while(l.length>d)r=s(a,e=l[d++]),void 0!==r&&c(u,e,r);return u}})},e439:function(t,e,r){var a=r("23e7"),s=r("d039"),i=r("fc6a"),n=r("06cf").f,o=r("83ab"),c=s((function(){n(1)})),l=!o||c;a({target:"Object",stat:!0,forced:l,sham:!o},{getOwnPropertyDescriptor:function(t,e){return n(i(t),e)}})},e538:function(t,e,r){var a=r("b622");e.f=a}}]);
//# sourceMappingURL=chunk-02f54897.2a63efcc.js.map