(function(t){function e(e){for(var a,c,u=e[0],s=e[1],i=e[2],f=0,d=[];f<u.length;f++)c=u[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);h&&h(e);while(d.length)d.shift()();return r.push.apply(r,i||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},c={app:0},o={app:0},r=[];function u(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-02f54897":"2a63efcc","chunk-079bbff3":"ad80b4bc","chunk-0b085dc7":"6b0b9956","chunk-1b6d8fbe":"65993362","chunk-53260129":"30479cec","chunk-53e888d8":"a3363e45","chunk-7e6ba519":"a80caae7","chunk-7e6cff31":"4605314b","chunk-7e6e67ac":"5dd95a3b","chunk-80eb072e":"2a1e9973","chunk-8af40180":"88ec075b","chunk-b7f32a70":"354c3243"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-0b085dc7":1,"chunk-53260129":1,"chunk-53e888d8":1};c[t]?e.push(c[t]):0!==c[t]&&n[t]&&e.push(c[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-02f54897":"31d6cfe0","chunk-079bbff3":"31d6cfe0","chunk-0b085dc7":"0ea71118","chunk-1b6d8fbe":"31d6cfe0","chunk-53260129":"dae02071","chunk-53e888d8":"6b0f5536","chunk-7e6ba519":"31d6cfe0","chunk-7e6cff31":"31d6cfe0","chunk-7e6e67ac":"31d6cfe0","chunk-80eb072e":"31d6cfe0","chunk-8af40180":"31d6cfe0","chunk-b7f32a70":"31d6cfe0"}[t]+".css",o=s.p+a,r=document.getElementsByTagName("link"),u=0;u<r.length;u++){var i=r[u],f=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(f===a||f===o))return e()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){i=d[u],f=i.getAttribute("data-href");if(f===a||f===o)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||o,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete c[t],h.parentNode.removeChild(h),n(r)},h.href=o;var l=document.getElementsByTagName("head")[0];l.appendChild(h)})).then((function(){c[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=r);var i,f=document.createElement("script");f.charset="utf-8",f.timeout=120,s.nc&&f.setAttribute("nonce",s.nc),f.src=u(t);var d=new Error;i=function(e){f.onerror=f.onload=null,clearTimeout(h);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),c=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+c+")",d.name="ChunkLoadError",d.type=a,d.request=c,n[1](d)}o[t]=void 0}};var h=setTimeout((function(){i({type:"timeout",target:f})}),12e4);f.onerror=f.onload=i,document.head.appendChild(f)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/Own_Space/",s.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],f=i.push.bind(i);i.push=e,i=i.slice();for(var d=0;d<i.length;d++)e(i[d]);var h=f;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("4de4"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),c=n("bc3a"),o=n.n(c),r=n("a7fe"),u=n.n(r),s=n("9062"),i=n.n(s),f=(n("e40d"),n("4989"),n("7bb1")),d=n("427f"),h=n.n(d),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},p=[],m=(n("cf25"),n("2877")),g={},b=Object(m["a"])(g,l,p,!1,null,null,null),v=b.exports,E=(n("d3b7"),n("8c4f"));a["a"].use(E["a"]);var T=[{path:"*",redirect:"/"},{path:"/",component:function(){return n.e("chunk-0b085dc7").then(n.bind(null,"88e9"))},children:[{path:"/",name:"Home",component:function(){return n.e("chunk-80eb072e").then(n.bind(null,"bb51"))}},{path:"product_list",name:"ProductList",component:function(){return n.e("chunk-1b6d8fbe").then(n.bind(null,"1588"))}},{path:"product_detail/:product_id",name:"ProductDetail",component:function(){return n.e("chunk-b7f32a70").then(n.bind(null,"e6c8"))}},{path:"check_order",name:"CheckOrder",component:function(){return n.e("chunk-8af40180").then(n.bind(null,"21c0"))}},{path:"buyer_info",name:"BuyerInfo",component:function(){return n.e("chunk-02f54897").then(n.bind(null,"2d03"))}},{path:"order_info/:order_id",name:"OrderInfo",component:function(){return n.e("chunk-079bbff3").then(n.bind(null,"b5f4"))}}]},{path:"/login",name:"Login",component:function(){return n.e("chunk-53260129").then(n.bind(null,"a55b"))}},{path:"/admin",name:"Dashboard",component:function(){return n.e("chunk-53e888d8").then(n.bind(null,"7277"))},children:[{path:"products",name:"Products",component:function(){return n.e("chunk-7e6e67ac").then(n.bind(null,"778a"))},meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:function(){return n.e("chunk-7e6cff31").then(n.bind(null,"447e"))},meta:{requiresAuth:!0}},{path:"coupons",name:"Coupons",component:function(){return n.e("chunk-7e6ba519").then(n.bind(null,"151c"))},meta:{requiresAuth:!0}}]}],A=E["a"].prototype.push;E["a"].prototype.push=function(t){return A.call(this,t).catch((function(t){return t}))};var M=new E["a"]({routes:T,scrollBehavior:function(t,e,n){return n||{x:0,y:0}}}),O=M,k=n("2f62"),y=(n("4160"),n("a434"),n("159b"),{namespaced:!0,state:{messages:[]},actions:{updateMessage:function(t,e){var n=e.message,a=e.status,c=Math.floor(new Date/1e3);t.commit("UPDATEMESSAGE",{message:n,status:a,timestamp:c}),t.dispatch("removeMessageWithTiming",c)},removeMessage:function(t,e){t.commit("REMOVEMESSAGE",e)},removeMessageWithTiming:function(t,e){setTimeout((function(){t.commit("REMOVEMESSAGESWITEHTIMING",e)}),3e3)}},mutations:{UPDATEMESSAGE:function(t,e){t.messages.push(e)},REMOVEMESSAGE:function(t,e){t.messages.splice(e,1)},REMOVEMESSAGESWITEHTIMING:function(t,e){t.messages.forEach((function(n,a){n.timestamp===e&&t.messages.splice(a,1)}))}},getters:{messages:function(t){return t.messages}}}),C=(n("99af"),{namespaced:!0,state:{cart:{},cartQty:0,cartTotal:0,cartData:{},isConfirm:!1},actions:{addtoCart:function(t,e){var n=e.product,a=e.qty,c=-1;if(t.state.cart.length>0&&t.state.cart.forEach((function(t,e){t.id===n.id&&(c=e)})),-1===c){var o=parseInt(n.price*a,10),r=Object.assign({},n);r.qty=a,r.total=o,t.commit("ADDTOCART",r)}else{var u=Object.assign({},t.state.cart[c]),s=parseInt(n.price*a,10);u.qty+=a,u.total+=s,t.commit("REMOVECARTITEM",c),t.commit("ADDTOCART",u)}t.commit("UPDATECART"),t.dispatch("alertMessageModules/updateMessage",{message:"商品已加入購物車",status:"success"},{root:!0})},changeNumber:function(t,e){var n=e.product,a=e.qty,c=-1,o=a;t.state.cart.length>0&&t.state.cart.forEach((function(t,e){t.id===n.id&&(c=e)})),a>=10?(o=10,t.commit("CHANGEQTY",{productIndex:c,num:o})):a<=1?(o=1,t.commit("CHANGEQTY",{productIndex:c,num:o})):t.commit("CHANGEQTY",{productIndex:c,num:o});var r=parseInt(t.state.cart[c].price*t.state.cart[c].qty,10);t.commit("CHANGESUM",{productIndex:c,total:r}),t.commit("UPDATECART")},confirmCart:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("ownspace","/cart");t.dispatch("updateLoading",!0,{root:!0}),t.commit("CART"),t.state.cart.forEach((function(n){var a={product_id:n.id,qty:n.qty};o.a.post(e,{data:a}).then((function(e){e.data.success?t.dispatch("getCartData"):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0}),t.dispatch("updateLoading",!1,{root:!0})}))}))},getCartData:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("ownspace","/cart");o.a.get(e).then((function(e){e.data.success?(t.commit("CARTDATA",e.data.data),t.commit("CONFIRM",e.data.data.carts.length)):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0})}))},getCartInfo:function(t){t.commit("CARTQTY"),t.commit("CARTTOTAL")},cancelCart:function(t){t.state.isConfirm&&t.state.cartData.carts.forEach((function(e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("ownspace","/cart/").concat(e.id);o.a.delete(n).then((function(e){e.data.success||t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0})}))}))},addCouponCode:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("ownspace","/coupon"),a={code:e};t.dispatch("updateLoading",!0,{root:!0}),o.a.post(n,{data:a}).then((function(e){t.dispatch("getCartData"),e.data.success?t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0}):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0}),t.dispatch("updateLoading",!1,{root:!0})}))}},mutations:{CART:function(t){t.cart=JSON.parse(localStorage.getItem("cart"))||[]},ADDTOCART:function(t,e){t.cart.push(e)},REMOVECARTITEM:function(t,e){t.cart.splice(e,1)},CHANGEQTY:function(t,e){t.cart[e.productIndex].qty=e.num},CHANGESUM:function(t,e){t.cart[e.productIndex].total=e.total},UPDATECART:function(t){localStorage.setItem("cart",JSON.stringify(t.cart))},CARTDATA:function(t,e){t.cartData=e},CONFIRM:function(t,e){t.isConfirm=e>0},CARTQTY:function(t){t.cartQty=0,t.cart.forEach((function(e){t.cartQty+=e.qty}))},CARTTOTAL:function(t){t.cartTotal=0,t.cart.forEach((function(e){t.cartTotal+=e.total}))}},getters:{cart:function(t){return t.cart},cartData:function(t){return t.cartData},isConfirm:function(t){return t.isConfirm},cartQty:function(t){return t.cartQty},cartTotal:function(t){return t.cartTotal}}}),S={namespaced:!0,state:{favorites:{},favorLength:0},actions:{changeFavorite:function(t,e){var n=-1;t.state.favorites.length>0&&t.state.favorites.forEach((function(t,a){t.id===e.id&&(n=a)})),-1===n?t.commit("ADDTOFAVORITES",e):t.commit("REMOVEFAVORITEM",n),t.commit("UPDATEFAVORITES"),t.commit("FAVORITES")}},mutations:{FAVORITES:function(t){t.favorites=JSON.parse(localStorage.getItem("favorites"))||[]},FAVORITESLENGTH:function(t){t.favorLength=t.favorites.length},ADDTOFAVORITES:function(t,e){t.favorites.push(e)},UPDATEFAVORITES:function(t){t.favorites=localStorage.setItem("favorites",JSON.stringify(t.favorites))},REMOVEFAVORITEM:function(t,e){t.favorites.splice(e,1)}},getters:{favorites:function(t){return t.favorites},favorLength:function(t){return t.favorLength}}};a["a"].use(k["a"]);var I=new k["a"].Store({strict:!0,state:{isLoading:!1},actions:{updateLoading:function(t,e){t.commit("LOADING",e)}},mutations:{LOADING:function(t,e){t.isLoading=e}},getters:{isLoading:function(t){return t.isLoading}},modules:{alertMessageModules:y,cartModules:C,favoritesModules:S}}),D=(n("a9e3"),n("b680"),n("ac1f"),n("5319"),function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,n){var a=e&&"."!==t&&(n.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return a})))}),R=function(t){var e=new Date(1e3*t);return e.toLocaleDateString()};a["a"].config.productionTip=!1,a["a"].use(f["b"]),f["a"].localize("zh_TW",h.a),a["a"].use(u.a,o.a),a["a"].component("Loading",i.a),a["a"].filter("currency",D),a["a"].filter("date",R);var w={zh_TW:{messages:{required:function(t){return"請輸入".concat(t)}},attributes:{name:"姓名",tel:"手機號碼",email:"Email",address:"地址"}}};f["a"].localize(w);var L={validate:function(t){var e=/^09[0-9]{8}$/;return e.test(t)}};f["a"].extend("cellphone",L),o.a.defaults.withCredentials=!0,new a["a"]({router:O,store:I,render:function(t){return t(v)}}).$mount("#app"),O.beforeEach((function(t,e,n){if(t.meta.requiresAuth){var a="".concat("https://vue-course-api.hexschool.io","/api/user/check");o.a.post(a).then((function(t){t.data.success?n():n({path:"/login"})}))}else n()}))},cf25:function(t,e,n){"use strict";var a=n("fea6"),c=n.n(a);c.a},fea6:function(t,e,n){}});
//# sourceMappingURL=app.f37cef73.js.map